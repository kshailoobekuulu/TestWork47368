{"remainingRequest":"/home/kubanychbek/Desktop/code/todo/frontend/test-app/node_modules/babel-loader/lib/index.js!/home/kubanychbek/Desktop/code/todo/frontend/test-app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kubanychbek/Desktop/code/todo/frontend/test-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kubanychbek/Desktop/code/todo/frontend/test-app/src/components/ToDoModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kubanychbek/Desktop/code/todo/frontend/test-app/src/components/ToDoModal.vue","mtime":1636830104784},{"path":"/home/kubanychbek/Desktop/code/todo/frontend/test-app/babel.config.js","mtime":1636779951204},{"path":"/home/kubanychbek/Desktop/code/todo/frontend/test-app/node_modules/cache-loader/dist/cjs.js","mtime":1636779947480},{"path":"/home/kubanychbek/Desktop/code/todo/frontend/test-app/node_modules/babel-loader/lib/index.js","mtime":1636779947508},{"path":"/home/kubanychbek/Desktop/code/todo/frontend/test-app/node_modules/cache-loader/dist/cjs.js","mtime":1636779947480},{"path":"/home/kubanychbek/Desktop/code/todo/frontend/test-app/node_modules/vue-loader/lib/index.js","mtime":1636779945775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUb0RvTW9kYWwnLAogIHByb3BzOiB7CiAgICB0YXNrOiBPYmplY3QsCiAgICBvcHRpb25zOiBPYmplY3QsCiAgICByZXNldERhdGE6IEZ1bmN0aW9uLAogICAgdGFza3M6IEFycmF5LAogICAgdXBkYXRlVGFzazogRnVuY3Rpb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcnJvcnM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlT3JVcGRhdGVUYXNrOiBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVRhc2soYnZNb2RhbEV2dCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYnZNb2RhbEV2dC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgaWYgKHRoaXMub3B0aW9ucy5tZXRob2QgPT0gJ3Bvc3QnKSB7CiAgICAgICAgYXhpb3MucG9zdCh0aGlzLiRhcGlVcmwgKyB0aGlzLm9wdGlvbnMudXJsLCB0aGlzLnRhc2spLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMSkgewogICAgICAgICAgICBfdGhpcy4kYnZNb2RhbC5oaWRlKCd0YXNrTW9kYWwnKTsKCiAgICAgICAgICAgIF90aGlzLnJlc2V0RGF0YSgpOwoKICAgICAgICAgICAgX3RoaXMudGFza3MudW5zaGlmdChyZXNwb25zZS5kYXRhLnRvZG8pOwoKICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gW107CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBbXTsKICAgICAgICAgIE9iamVjdC52YWx1ZXMoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMpLmZvckVhY2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKGVycm9yWzBdKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGF4aW9zLnB1dCh0aGlzLiRhcGlVcmwgKyB0aGlzLm9wdGlvbnMudXJsLCB0aGlzLnRhc2spLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICBfdGhpcy4kYnZNb2RhbC5oaWRlKCd0YXNrTW9kYWwnKTsKCiAgICAgICAgICAgIF90aGlzLnJlc2V0RGF0YSgpOwoKICAgICAgICAgICAgX3RoaXMudXBkYXRlVGFzayhyZXNwb25zZS5kYXRhLnRvZG8sIF90aGlzLnRhc2suaW5kZXgpOwoKICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gW107CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBbXTsKICAgICAgICAgIE9iamVjdC52YWx1ZXMoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMpLmZvckVhY2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIF90aGlzLmVycm9ycy5wdXNoKGVycm9yWzBdKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ToDoModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAgBA,OAAA,KAAA,MAAA,OAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,MADA;AAEA,IAAA,OAAA,EAAA,MAFA;AAGA,IAAA,SAAA,EAAA,QAHA;AAIA,IAAA,KAAA,EAAA,KAJA;AAKA,IAAA,UAAA,EAAA;AALA,GAFA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GAbA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,kBADA,8BACA,UADA,EACA;AAAA;;AACA,MAAA,UAAA,CAAA,cAAA;;AACA,UAAA,KAAA,OAAA,CAAA,MAAA,IAAA,MAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,KAAA,OAAA,GAAA,KAAA,OAAA,CAAA,GAAA,EAAA,KAAA,IAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,WAAA;;AACA,YAAA,KAAA,CAAA,SAAA;;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA;;AACA,YAAA,KAAA,CAAA,MAAA,GAAA,EAAA;AACA;AACA,SARA,EASA,KATA,CASA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA,EAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAFA;AAGA,SAdA;AAeA,OAhBA,MAgBA;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,KAAA,OAAA,GAAA,KAAA,OAAA,CAAA,GAAA,EAAA,KAAA,IAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,WAAA;;AACA,YAAA,KAAA,CAAA,SAAA;;AACA,YAAA,KAAA,CAAA,UAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,IAAA,CAAA,KAAA;;AACA,YAAA,KAAA,CAAA,MAAA,GAAA,EAAA;AACA;AACA,SARA,EASA,KATA,CASA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA,EAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAFA;AAGA,SAdA;AAeA;AACA;AApCA;AAfA,CAAA","sourcesContent":["<template>\n  <div>\n    <div>\n      <b-modal id=\"taskModal\" :title=\"options.title\" ok-title=\"Submit\" @cancel=\"resetData\" @ok=\"createOrUpdateTask\">\n        <p v-for=\"(error, index) in errors\" :key=\"index\" class=\"alert alert-danger mt-1 mb-1\">{{ error }}</p>\n        <p class=\"my-4\">\n            <input v-model=\"task.title\" type=\"text\" placeholder=\"Title\" class=\"form-control mb-2\">\n            <textarea v-model=\"task.body\" cols=\"10\" rows=\"10\" placeholder=\"Body\" class=\"form-control mt-2 mb-2\"></textarea>\n            <label for=\"date\">Due Date</label>\n            <input v-model=\"task.due_date\" type=\"date\" class=\"form-control\" id=\"date\">\n        </p>\n      </b-modal>\n    </div>    \n  </div>\n</template>\n<script>\nimport axios from \"axios\"\n\n\nexport default({\n    name: 'ToDoModal',\n    props: {\n        task: Object,\n        options: Object,\n        resetData: Function,\n        tasks: Array,\n        updateTask: Function,\n    }, \n    data() {\n        return {\n            errors: []\n        }\n    },\n    \n    methods: {\n        createOrUpdateTask(bvModalEvt) {\n            bvModalEvt.preventDefault();\n            if (this.options.method == 'post') {\n                axios.post(this.$apiUrl + this.options.url, this.task)\n                .then(response => {\n                    if (response.status == 201) {\n                        this.$bvModal.hide('taskModal');\n                        this.resetData();\n                        this.tasks.unshift(response.data.todo);\n                        this.errors = [];\n                    }\n                })\n                .catch(error => {\n                    this.errors = [];\n                    Object.values(error.response.data.errors).forEach(error => {\n                        this.errors.push(error[0]);\n                    });\n                })\n            } else {\n                axios.put(this.$apiUrl + this.options.url, this.task)\n                .then(response => {\n                    if (response.status == 200) {\n                        this.$bvModal.hide('taskModal');\n                        this.resetData();\n                        this.updateTask(response.data.todo, this.task.index);\n                        this.errors = [];\n                    }\n                })\n                .catch(error => {\n                    this.errors = [];\n                    Object.values(error.response.data.errors).forEach(error => {\n                        this.errors.push(error[0]);\n                    });\n                })\n            }\n        },\n    }\n})\n</script>\n"],"sourceRoot":"src/components"}]}